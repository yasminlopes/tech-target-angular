<!-- <app-navbar></app-navbar> -->
<app-header></app-header>
<br />
<main>
  <form class="register container" [formGroup]="registerUserForm">
    <div class="register-type">
      <h2 class="typeUser">Pessoa Física ou Jurídica?</h2>
      <div class="col-md-6">
        <div class="form-check">
          <input
            type="radio"
            class="add-cursor-pointer"
            formControlName="tipoPessoa"
            name="tipoPessoa"
            id="fisica"
            value="fisica"
          />
          <label for="fisica">Física</label>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-check">
          <input
            type="radio"
            class="add-cursor-pointer"
            formControlName="tipoPessoa"
            name="tipoPessoa"
            id="juridica"
            value="juridica"
          />
          <label class="form-check-label add-cursor-pointer" for="juridica"
            >Jurídica</label
          >
        </div>
      </div>
    </div>
    <div class="register-dados form">
      <h2 class="h2-details col-2">dados</h2>

      <div>
        <label for="nome">Nome</label>
        <input class="form-control" type="text" formControlName="name" />
        <app-form-erro [formControl]="$any(registerUserForm).get('name')" ngDefaultControl></app-form-erro>
      </div>

      <div>
        <label for="nome">Sobrenome</label>
        <input class="form-control" type="text" formControlName="last_name" />
        <app-form-erro [formControl]="$any(registerUserForm).get('last_name')" ngDefaultControl></app-form-erro>
      </div>

      <div>
        <label for="nome">Estado</label>
        <ng-select
          class="ng-select-container"
          [items]="estados"
          bindLabel="state_name"
          bindValue="acronym"
          formControlName="user_state"
        >
        </ng-select>
        <app-form-erro [formControl]="$any(registerUserForm).get('user_state')" ngDefaultControl></app-form-erro>
      </div>

      <div>
        <label for="nome">Cidade</label>
        <ng-select
          class="ng-select-container"
          [items]="cidades"
          bindLabel="city_name"
          bindValue="id"
          formControlName="user_city"
        >
        </ng-select>
        <app-form-erro [formControl]="$any(registerUserForm).get('user_city')" ngDefaultControl></app-form-erro>
      </div>

      <div>
        <label for="nome">Endereço</label>
        <input
          class="form-control"
          type="text"
          formControlName="user_address"
        />
        <app-form-erro [formControl]="$any(registerUserForm).get('user_address')" ngDefaultControl></app-form-erro>
      </div>

      <ng-container
        *ngIf="registerUserForm.get('tipoPessoa')?.value == 'fisica'"
      >
        <div>
          <label>CPF</label>
          <input
            class="form-control"
            type="text"
            formControlName="cpf"
            maxlength="11"
          />
          <app-form-erro [formControl]="$any(registerUserForm).get('cpf')" ngDefaultControl></app-form-erro>
          <small
            class="text-danger"
            *ngIf="$any(registerUserForm).get('cpf').errors?.cpfInvalido"
          >
            CPF Inválido
          </small>
        </div>

        <h2 class="col-2">detalhes</h2>

        <div>
          <label>Profissão</label>
          <input
            class="form-control"
            type="text"
            formControlName="profession"
          />
          <app-form-erro [formControl]="$any(registerUserForm).get('profession')" ngDefaultControl></app-form-erro>
        </div>

        <div>
          <label>Sexo</label>
          <ng-select
            class="ng-select-container"
            [items]="genders"
            bindLabel="name"
            bindValue="id"
            formControlName="gender"
          >
          </ng-select>
          <app-form-erro [formControl]="$any(registerUserForm).get('gender')" ngDefaultControl></app-form-erro>
        </div>
        <div>
          <label>Estado Civil</label>

          <ng-select
            class="ng-select-container"
            [items]="statusCivil"
            bindLabel="status_name"
            bindValue="id"
            formControlName="civil_status"
          >
          </ng-select>
          <app-form-erro [formControl]="$any(registerUserForm).get('civil_status')" ngDefaultControl></app-form-erro>
        </div>

        <div>
          <label>Data de Nascimento</label>
          <input
            type="date"
            class="form-control"
            formControlName="birth_date"
          />
          <app-form-erro [formControl]="$any(registerUserForm).get('birth_date')" ngDefaultControl></app-form-erro>
        </div>
      </ng-container>

      <ng-container
        *ngIf="registerUserForm.get('tipoPessoa')?.value == 'juridica'"
      >
        <div>
          <label>CNPJ</label>
          <input
            class="form-control"
            type="text"
            formControlName="cnpj"
            maxlength="14"
          />
          <app-form-erro [formControl]="$any(registerUserForm).get('cnpj')" ngDefaultControl></app-form-erro>
          <small
            class="text-danger"
            *ngIf="$any(registerUserForm).get('cnpj').errors?.cnpjInvalido"
          >
            CNPJ Inválido
          </small>
        </div>
        <h2 class="h2-details col-2">detalhes</h2>

        <div>
          <label>Nome da Corporação</label>
          <input
            class="form-control"
            type="text"
            formControlName="corporate_name"
          />
          <app-form-erro [formControl]="$any(registerUserForm).get('corporate_name')" ngDefaultControl></app-form-erro>
        </div>

        <div>
          <label>Nome Fantasia</label>
          <input
            class="form-control"
            type="text"
            formControlName="fancy_name"
          />
          <app-form-erro [formControl]="$any(registerUserForm).get('fancy_name')" ngDefaultControl></app-form-erro>
        </div>

        <div>
          <label>Segmento</label>
          <ng-select
            [items]="segments"
            bindLabel="name"
            bindValue="id"
            formControlName="segments"
          >
          </ng-select>
          <app-form-erro [formControl]="$any(registerUserForm).get('segments')" ngDefaultControl></app-form-erro>
        </div>

      </ng-container>

      <div>
        <label>Telefone</label>
        <input
          class="form-control"
          type="text"
          formControlName="user_phone"
          mask="(00) 00000-0000"
        />
        <app-form-erro [formControl]="$any(registerUserForm).get('user_phone')" ngDefaultControl></app-form-erro>
      </div>

      <div>
        <label>E-mail</label>
        <input class="form-control" type="text" formControlName="user_email" />
        <app-form-erro [formControl]="$any(registerUserForm).get('user_email')" ngDefaultControl></app-form-erro>
      </div>

      <div>
        <label>Senha</label>
        <input
          class="form-control"
          type="password"
          formControlName="user_password"
        />
        <app-form-erro [formControl]="$any(registerUserForm).get('user_password')" ngDefaultControl></app-form-erro>
      </div>
      <div class="btn-align">
      </div>
      <button
        class="botao col-2"
        [ngClass]="registerUserForm.invalid ? 'disabled-button' : ''"
        [disabled]="registerUserForm.invalid"
        (click)="registerUser()"
      >
        Cadastrar
      </button>
    </div>
  </form>
</main>

<app-footer></app-footer>
